<!DOCTYPE html>
<html lang="en">
<HEAD>
<title>Epigraph Book Two | Tractatus Ayyew - An Earthbook</title>
<meta charset="UTF-8"> 


<!--
o               .        ___- -___                    .                   
       .              .-\          -.     .     .         .
                    ./.;_.\     __/~ \.     
                   /;  / `-'  __\    . \                            
 .        .       / ,--'     / .   .;   \        |
                 | .|       /       __   |      -O-       .
                |__/    __ |  . ;   \ | . |      |
                |      /  \\_    . ;| \___|    
   .    o       |      \  .~\\___,--'     |           .
                 |     | . ; ~~~~\_    __|
    |             \    \   .  .  ; \  /_/   .
   -O-        .    \   /         . |  ~/                  .
    |    .          ~\ \   .      /  /~          o
  .                   ~- ___ ; ___-~       
                 .          -_-         .              -JT


EARTHBOOK - An open source, Earth & Human Friendly Book format
Read the book.  Improve, translate or comment on the content.  Or fork the code and publish your own.  
 

Landing page - version 1.3
Created by Russell Maier as a publishing format that fully embodies the principles of Earthen ethics to enable net-green book publishing.
First EarthBook, the Tractatus Ayyew, published 22.12.22.

License: GNU General Public License v2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html
All files, unless otherwise stated, are released under the GNU General Public
License version 2.0 (https://www.gnu.org/licenses/gpl-2.0.html)
See full project repository at: https://github.com/russs95/earthbook
For the principles behind the Earthbook see the Tractatus Ayyew:  https://book.earthe.io
*/
-->
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/favicon-16x16.png">
<!--<link rel="manifest" href="../favicons/site.webmanifest">-->

<link rel="canonical" href="https://book.earthen.io/en/epigraph-2"> 
<link rel="alternate" href="https://book.earthen.io/en/epigraph-2" hreflang="en" >
<link rel="alternate" href="http://book.earthen.io/en/epigraph-2" hreflang="x-default" >
<link rel="alternate" href="https://book.earthen.io/fr/epigraphe-2.html" hreflang="fr" >
<!--
<link rel="alternate" href="https://book.earthen.io/es/" hreflang="es" >
<link rel="alternate" href="https://book.earthen.io/id/" hreflang="id" >-->



<!--BOOK META TAGS
These tags will be consistent for the whole book-->

<meta name="keywords" content="epigraph, introduction, stories, dapay, Earth ethics, earthen ethics, earth, ethics, tractatus ayyew, igorot, indigenous philosophy, philosophy, Earth, green ethics, environmental ethics, deep ecology, ecological, ethics"> 
<meta name="description" content="‚ÄúBlackfellow law different.  It never changes. Like a stone, like that hill.  The law is in the ground.‚Äù">
	
<meta property="article:publisher" content="Earthen.io" >
<meta name="author" content="Russell Maier & Banayan Angway">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="article:modified_time" content="2023-8-07T09:14:13+00:00" >
  
<!-- Facebook Open Graph Tags for social sharing-->
<meta property="og:site_name" content="An Earthen Ethic | Tracatus Ayyew">
<meta property="article:publisher" content="Earthen.io" >
<meta property="og:type"          content="book">
<meta property="og:title"         content="Epigraph Book 2">
<meta property="og:description"   content="‚ÄúBlackfellow law different.  It never changes. Like a stone, like that hill.  The law is in the ground.‚Äù">
<meta property="og:image"         content="https://book.earthen.io/covers/earth-book-cover-1000px.jpg">
<meta property="og:image:type" content="image/png" >
<meta property="og:image:width" content="1000px" >
<meta property="og:image:height" content="1500px" >
<meta property="og:locale" content="en_EN" >
<meta property="og:url" content="https://book.earthen.io/en/epigraph-2">

<script>
      // Declare the global variables
     var book = "Book Two";
    var chapNo = "1";
    var chapName = "Epigraph Book Two";
    var chaptURL = "epigraph-2.html"   // Declare the global variables
  

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('../service-worker.js?v=2').then(function(registration) {
          console.log('ServiceWorker registration successful with scope:', registration.scope);
        }, function(error) {
          console.log('ServiceWorker registration failed:', error);
        });
      });
    }


    
</script>



 <!--FONTS
starts loading the fonts-->

<link rel="preconnect" href="../fonts/">
<link rel="preconnect" href="../fonts/" crossorigin> 

<!-- PRELOADS-->
<link rel="preload" as="image" href="../svgs/00-imagine-dark.svg">
<link rel="preload" as="image" href="../svgs/00-imagine-white.svg">


 <!-- STYLE SHEETS   
All the css needed for this page-->
 
<link rel="stylesheet" href="../style-sheet.css">
<link rel="stylesheet" href="../stylesheet-chapter.css?v=1.3">
<link rel="stylesheet" href="../light.css">
<link rel="stylesheet" href="../light.css" media="(prefers-color-scheme: light)">
 <link rel="stylesheet" href="../dark.css" media="(prefers-color-scheme: dark)">
 <link rel="stylesheet" href="../slider.css">

 
 <!-- INCLUDES
 Main Scripts-->   
 <script type="module" src="../dark-mode-toggle.mjs.js" async></script>
 <script src="../universal-javascript.js" defer></script>
 <script src="../content-javascript.js?v=2.2" defer></script>
 <script src="../clip/dist/clipboard.min.js" defer></script>
 <!--Carbon Badge script
 <script src="../b.min.js" defer></script>
 <script src="https://unpkg.com/website-carbon-badges@1.1.3/b.min.js?v=2" defer></script>
-->

 
 <!-- Arc CDN Script without delay
<script async src="https://arc.io/widget.min.js#Z7EC7Cze"></script>-->

 <!--PAGE INCLUDES
All the page components required to build this page-->

<!--1--><script src="includes/header-component.js"  async></script>
<!--2--><script src="includes/settings-curtain.js"  defer></script>
<!--3--><script src="includes/content-curtain.js"  defer></script>
<!--4--><script src="includes/share-curtain.js"  defer></script>
<!--5--><script src="includes/buy-curtain.js"  defer></script>
<!--6--><script src="includes/bookplate-curtain.js"  defer></script>
<!--7--><script src="includes/earthbook-curtain.js"  defer></script>
<!--8--><script src="includes/footer-component.js" defer></script>
<!--9--><script src="includes/read-curtain.js" defer></script>
<!--10--><script src="includes/tour-curtain.js"  defer></script>
<!--11--><script src="includes/search-curtain.js"  defer></script>
<!--12--><script src="includes/eco-curtain.js"  defer></script>
<!--13--><script src="includes/chap-foot.js?V=2" defer></script>
<!--14--><script src="includes/booknotes-curtain.js?v=2" defer></script>


<style>



@font-face {
  font-family: "CooperLt";
  font-style: normal;
  src: url("../fonts/CooperLightBT.ttf");
  font-display: swap;
 }

 @font-face {
  font-family: "CooperLt";
  font-style: italic;
  src: url("../fonts/CooperLtBTLightItalic.ttf");
  font-display: swap;
 }

 @font-face {
  font-family: "CooperLtMedium";
  src: url("../fonts/CooperMediumBT.ttf");
  font-display: swap;
 }

 @font-face {
  font-family: "Mulish";
  src: url("../fonts/Mulish-Light.ttf");
  font-display: swap;
 }


 @media screen and (max-width: 699px) {
    .ct-chapter-quote {
      width: 87%;
      font-size: 1em;
    }
    .ct-quote-source {
      width: 80%;
      font-size: 0.9em;
    }

    #ct-chapt-graphic {
      height: 40vh;
      margin-top: 8vh;
    }

  }

  @media screen and (min-width: 700px) and (max-width: 1324px) {
    .ct-chapter-quote {
      width: 70%;
      font-size: 1.7em;
    }
    .ct-quote-source {
      width: 70%;
      font-size: 1.3em;
    }
  }
    
  @media screen and (min-width: 1325px) {
    .ct-chapter-quote {
    width: 50%;
    font-size: 1.7em;
    }
    .ct-quote-source {
      width: 50%;
      font-size: 1.3em;
    }
  }

    #ct-main .action-btn {
    margin: -35px auto 0px auto !important;
  }
  


</style>
</HEAD>

<BODY class="accessibility-plugin-ac">

<!--TOUR-CURTAIN-->
<tour-curtain></tour-curtain>


  <div id="underlayer">

    <div id="top"></div>

<!--HEADER NAVBAR-->
<header-component></header-component>


<div id="ct-chapter-top">
  <button type=button id="ct-tc-menu" onclick="openContents()"  aria-label="Open Table of Contents"></button>
  <div class="ct-holder" style="cursor:pointer;" onclick="openContents()">
    <div id="ct-chapter-title">Epigraph</div>   
    <div id="ct-book-title">Tractatus Ayyew</div>
    <div id="ct-chap-location">Book Two</div>
    <div id="ct-word-count"><i></i></div>
  </div>
</div>

<!-- Page Title Section-->

<div id="ct-chapt-graphic" class="background-000">
    <div class="ct-chapter-quote">
        ‚ÄúYou see that hill over there?  Blackfellow law like that hill.  It never changes. Whitefellow law go this way, that way, all the time changing. Blackfellow law different.  It never changes. Like a stone, like that hill.  The law is in the ground.‚Äù
        </div>
</div>


<div id="up-arrow"></div>

<div id="ct-main">



<!-- MAIN TEXT CONTENT of the Page
  For footnotes, use these numbers:  ¬π ¬≤ ¬≥ ‚Å¥ ‚Åµ ‚Å∂ ‚Å∑ ‚Å∏ ‚Åπ ‚Å∞  ‚Äú ‚Äù ¬≥¬π‚Å∞ ¬≤‚Å∂ ‚Å¥‚Å∑ ‚Åµ‚Å∞
-->

<div id="chap-notice">
    <div id="close-notice" onclick="closeWelcomeNotice()">&times;</div>
    <div id="chap-notice-text">
    üí°  Looks like its your first time opening this book!  Before you get going, consider taking the quick <a class="java-link" onclick="guidedTour(), closeWelcomeNotice()" aria-label="Open About Screen" title="Learn more about what an Earthbook is">Earthbook features tour</a> and be sure to <a class="java-link" onclick="openSettings(), closeWelcomeNotice()" aria-label="Open Settings" title="Adjust for your eyes">optimize ¬±</a> the page for your eyes.
    </div>
  </div>


  <div class="ct-quote-source" style="width:100% !important;">
    ‚Äï Doug Cambell, Yarralin spokesperson<br><span style="font-size:smaller;">From: <i>'Dingo Makes Us Human'</i>,  by Deborah Rose Bird<br>(Cambridge University Press, New York, 2000) p. 56</span></div>


    <br><br>
    <br><br>
    <br><br>
<div class="footnote-line" style="border-style: dotted; border-color: grey; border-width: 1px; margin-bottom: 20px; width:100%; text-align:left;"></div>

<br>
<div class="ct-quote-source" style="width:100% !important;">

Note:  Book Two is still in development.  Not all chapters are deployed.  Content is continuously being revised and updated.
    </div>

    <br><br>
    <br><br>

    <br><br><br><br>
    <br><br>

    <br><br>


  
    
  </div><!--closes page text content-->

<!-- BOOKNOTES BUTTON-->

<div id="bookNotePalette" class="palette-hidden">
    <!--<span id="closePalette"><img src="../svgs/right-x.svg" alt="Close page button" width="50"></span>  -->
    <div class="highlight-buttons">
        <div id="save-text" style="color:var(--thin-border-color);
        font-family:Mulish, Arial, Helvetica, sans-serif;
        text-align: center;
        text-decoration: none;
        font-size: 1em;  margin: auto 10px;">Save:
        </div>
        <button class="color-btn" onclick="highlightBooknote('green')" style="background:green"></button>
        <button class="color-btn" onclick="highlightBooknote('red')" style="background:red"></button>
        <button class="color-btn" onclick="highlightBooknote('yellow')" style="background:yellow"></button>
        <button class="color-btn" onclick="highlightBooknote('yellow')" style="background:grey" onclick="recreateHighlights()">
        </button>
        
    </div>
    <button id="copyBtn" class="pallette-btn">Copy</button> 
    <button id="booknotesBtn" class="pallette-btn" onclick="updateBNResetButton(),openBooknotes(), bookNotesCreator()">Your Notes</button>
   
    
</div>


   
          
  </div><!--Closes main content block-->



    <!--BOOKNOTES-CURTAIN-->
    <booknotes-curtain></booknotes-curtain>

<!--SEARCH-CURTAIN-->
<search-curtain></search-curtain>

<!--CONTENTS MENU-->
<content-curtain></content-curtain>

<!--SETTINGS-MENU-->
<settings-curtain></settings-curtain>

<!--BOOK PLATE-->
<bookplate-curtain></bookplate-curtain>

<!--ABOUT EARTHBOOK-->
<earthbook-curtain></earthbook-curtain>

<!--SHARE-MENU-->
<share-curtain></share-curtain>

<!--BUY-CURTAIN-->
<buy-curtain></buy-curtain>

<!--ECO-CURTAIN-->
<eco-curtain></eco-curtain>


<!--FOOTER Next Chapter Section: Requires customization-->
  <div id="footer-chapter" style="margin-bottom: 0px;">

    <div class="footer-size">
    
      <div class="footer-left">

       <!-- <div id="footer-icon-left" style="cursor:pointer;" onclick="openFooter()"></div>-->

     
        <div class="next-section">
            <div class="next-sec">Next Chapter:</div>
            <div class="sec-name"><i>1 | Cycles that Spiral</i></div>
        </div>

      </div>
  
      <div class="footer-right">
    
        <a href="cycles.html" title="Go to the next chapter" aria-label="Go to the next chapter"><div class="next-button">Next ‚ûî</div></a>

      </div>
    </div>

<!-- CHAPTER FOOTER-->


<chap-foot></chap-foot>



</div><!--underlayer-->

<script>


let currentId = 0;

function generateId() {
    currentId += 1;
    return String(currentId).padStart(3, '0');
}

    
function checkSelectedText() {
    const selection = window.getSelection();

    // Check if any text is selected
    if (!selection.rangeCount || selection.isCollapsed) {
        return;
    }

    const selectedRange = selection.getRangeAt(0);
    const startContainerParent = selectedRange.startContainer.parentNode;
    const endContainerParent = selectedRange.endContainer.parentNode;

    // Check if the selection is within the #ct-main element
    const ctMainElement = document.getElementById('ct-main');
    if (!ctMainElement.contains(startContainerParent) || !ctMainElement.contains(endContainerParent)) {
        return;
    }

    // Check if the selection does not span more than one paragraph
    if (startContainerParent !== endContainerParent) {
        return;
    }

    saveBookNotePalette();
}

document.addEventListener('mouseup', checkSelectedText);
document.addEventListener('touchend', checkSelectedText);



/*
function checkSelectedText() {
    let selectedText = window.getSelection().toString();
    if (selectedText) { // If some text is selected
        saveBookNotePalette();
    }
}*/

document.addEventListener('mouseup', checkSelectedText);
document.addEventListener('touchend', checkSelectedText);



document.addEventListener('mouseup', function(e) {
    let selectedText = window.getSelection().toString();
    if (selectedText) { // If some text is selected
        saveBookNotePalette();
    }
});


function saveBookNotePalette() {
    const palette = document.getElementById('bookNotePalette');
    palette.style.bottom = '-30px'; // Slide up to show the palette
}




document.getElementById('copyBtn').addEventListener('click', function() {
    let selectedText = window.getSelection().toString();
    copyToClipboard(selectedText);
});

function copyToClipboard(text) {
    const textarea = document.createElement('textarea');
    textarea.value = text;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);

    // Change button text and style
    const button = document.getElementById('copyBtn');
    button.style.color = 'green';
    button.textContent = '‚úì Copied!';

    // Slide down and hide the palette
    setTimeout(() => {
        const palette = document.getElementById('bookNotePalette');
        palette.style.bottom = '-200px'; // Slide down to hide the palette

        // After an additional second, reset the button text
        setTimeout(() => {
            button.textContent = 'Copy';
            button.style.color = 'var(--text-color)';
        }, 1000);
    }, 800);
}



function highlightBooknote(color) {
    const selection = window.getSelection();

    // Variables for the new requirements
    const highlightColor = color;
    const userNote = "This is an example user note that can be added to the BookNotes for people to read";
    const publicNote = "No";

    // If there's selected text
    if (selection.rangeCount > 0) {
        const selectedRange = selection.getRangeAt(0);
        const span = document.createElement("span");

        // Set the appropriate highlight class based on the color
        switch (highlightColor) {
            case 'green':
                span.classList.add("highlight-green");
                break;
            case 'red':
                span.classList.add("highlight-red");
                break;
            case 'yellow':
                span.classList.add("highlight-yellow");
                break;
            default:
                console.warn(`Unknown highlight color: ${highlightColor}`);
                return; // Exit the function
        }

        span.title = "Click to remove BookNote"; 
        span.alt = "Highlight"; 

        const id = generateId();
        span.dataset.id = id;
        selectedRange.surroundContents(span);

        let startContainerNode = selectedRange.startContainer;
        while (startContainerNode.nodeName !== 'P' && startContainerNode.parentNode !== null) {
            startContainerNode = startContainerNode.parentNode;
        }

        const startContainer = startContainerNode.id;
        const containerHTML = startContainerNode.innerHTML;
        const storedText = selection.toString();

        alert(
            `Start Container: ${startContainer}\n` +
            `Stored Text: ${storedText}\n` +
            `Container HTML: ${containerHTML}`
        );

        const charCount = storedText.length;
        const now = new Date();
        const BNdateTime = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}T${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
        const noteChapter = chapName;

        let bookNotes = getBookNotesFromLocalStorage();

        const bookNote = {
            id,
            book,
            chapNo,
            chapName,
            chaptURL,
            startContainer,
            containerHTML,
            storedText,
            noteChapter,
            charCount,
            BNdateTime,
            highlightColor, // Added
            userNote,       // Added
            publicNote      // Added
        };

        bookNotes.push(bookNote);
        saveBookNotesToLocalStorage(bookNotes);

        console.log('BookNote saved:', bookNote);
        selection.removeAllRanges();
        updateButtonAndPalette();
    }
}


// Sub-function to get existing bookNotes or an empty array if none exist
function getBookNotesFromLocalStorage() {
    try {
        return JSON.parse(localStorage.getItem('bookNotes')) || [];
    } catch (error) {
        console.error('Error reading bookNotes from local storage:', error);
        return [];
    }
}

// Sub-function to save bookNotes to local storage
function saveBookNotesToLocalStorage(bookNotes) {
    try {
        localStorage.setItem('bookNotes', JSON.stringify(bookNotes));
    } catch (error) {
        console.error('Error saving bookNotes to local storage:', error);
    }
}


// Sub-function to update button visuals and behavior post-highlighting

function updateButtonAndPalette() {
    const saveTextDiv = document.getElementById('save-text');
    saveTextDiv.style.color = 'green';
    saveTextDiv.style.fontWeight = 'bold';
    saveTextDiv.textContent = '‚úì Saved!';

    setTimeout(() => {
        const palette = document.getElementById('bookNotePalette');
        palette.style.bottom = '-200px';

        setTimeout(() => {
            saveTextDiv.textContent = 'Save:';
            saveTextDiv.style.color = 'var(--thin-border-color)';
            saveTextDiv.style.fontWeight = 'normal';
        }, 1000);
    }, 1000);
}


document.getElementById('highlightSaveButton').addEventListener('click', highlightBooknote);



function removeHighlight(event) {
    const element = event.target;
    
    if (element.classList.contains('highlight')) {
        const id = element.dataset.id;

        // Get the bookNotes from local storage
        let bookNotes = JSON.parse(localStorage.getItem('bookNotes')) || [];

        // Find the index of the bookNote with the given id
        const index = bookNotes.findIndex(bookNote => bookNote.id === id);

        if (index !== -1) {
            // If the bookNote was found, remove it
            bookNotes.splice(index, 1);

            // Save the updated array back to local storage
            localStorage.setItem('bookNotes', JSON.stringify(bookNotes));

            console.log('BookNote removal success');
        } else {
            console.log('BookNote removal failed');
        }

        // Remove the span tag
        const text = document.createTextNode(element.textContent);
        element.parentNode.replaceChild(text, element);
    }
}


// Add a click event listener to the document to call removeHighlight when a highlight span is clicked
document.addEventListener('click', removeHighlight);


function recreateHighlights() {
    const bookNotes = JSON.parse(localStorage.getItem('bookNotes')) || [];

    bookNotes.forEach(note => {
        const { containerHTML, startContainer, id } = note;

        if (containerHTML && startContainer && id) {
            try {
                // Find the element by the saved ID
                const container = document.getElementById(startContainer);

                if (container) {
                    container.innerHTML = containerHTML; // Replace the innerHTML with the saved HTML (with highlights)
                } else {
                    console.error('Error: Container element not found for the following book note:', note);
                }
            } catch (err) {
                console.error('An error occurred while recreating highlights for the following book note:', note);
                console.error(err);
            }
        } else {
            console.warn('Warning: Incomplete book note data. Ignoring the following book note:', note);
        }
    });
}
window.onload = function() {
    recreateHighlights();
}

// Make sure this is after recreateSelection
document.addEventListener('click', removeHighlight);


function createElementWithAttributes(type, attributes = {}) {
    const element = document.createElement(type);
    for (const key in attributes) {
        if (attributes.hasOwnProperty(key)) {
            element[key] = attributes[key];
        }
    }
    return element;
}

function bookNotesCreator() {
    // Retrieve existing bookNotes from local storage
    let bookNotes;
    try {
        bookNotes = JSON.parse(localStorage.getItem('bookNotes')) || [];
    } catch (e) {
        console.error('Error parsing bookNotes from localStorage:', e);
        bookNotes = [];
    }

    // Get the book-notes-list div
    const bookNotesListDiv = document.getElementById('book-notes-list');

    // Clear existing children
    bookNotesListDiv.innerHTML = '';

    // Iterate through each book note and create the HTML structure
    bookNotes.forEach((bookNote, index) => {
        const bookNoteDiv = createElementWithAttributes('div', { id: `booknote-${index + 1}` });

        const tcItemDiv = createElementWithAttributes('div', { className: 'tc-item' });

        const chapterNameDiv = createElementWithAttributes('div', {
            className: 'chapter-name-bn',
            textContent: bookNote.storedNoteText
        });

        const wordCountDiv = createElementWithAttributes('div', { className: 'word-count-tc' });

        const chapterLink = createElementWithAttributes('a', { href: bookNote.chaptURL });
        chapterLink.innerHTML = `<i>${bookNote.chapName}</i><br>
        <span style="font-size:small;">${bookNote.book}, Chapt.${bookNote.chapNo}<br>
        ${bookNote.charCount} characters<br>
        ${bookNote.BNdateTime}</span>`;

        wordCountDiv.appendChild(chapterLink);
        tcItemDiv.appendChild(chapterNameDiv);
        tcItemDiv.appendChild(wordCountDiv);
        bookNoteDiv.appendChild(tcItemDiv);
        bookNotesListDiv.appendChild(bookNoteDiv);
    });
}

</script>

</body>
</html>

